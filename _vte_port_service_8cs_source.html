<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SipClass5: Settings/VtePorts/Service/VtePortService.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SipClass5
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_vte_port_service_8cs_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">VtePortService.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_vte_port_service_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> System.Linq;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> System.Net;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> System.Threading.Tasks;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.Common.Extensions;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.DataProvider.MsSql.TransactionScope;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding.html">Forwarding</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository.html">Repository</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model.html">DataModel</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions.html">Exceptions</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface.html">Interface</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies.html">Melodies</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository.html">Repository</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies.html">Melodies</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service.html">Service</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers.html">PhoneNumbers</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository.html">Repository</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository.html">Repository</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups.html">VteGroups</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service.html">Service</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports.html">VtePorts</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository.html">Repository</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes.html">Vtes</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository.html">Repository</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_cordis.html">Cordis</a>.<a class="code" href="namespace_cordis_1_1_core.html">Core</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip.html">Sip</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Class5</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Settings</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes.html">Vtes</a>.<a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service.html">Service</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Service</a></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html">   26</a></span>&#160;    <span class="keyword">internal</span> <span class="keyword">class </span><a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html">VtePortService</a> : <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_port_service.html">IVtePortService</a></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">        #region Fields</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">   33</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html">IVtePortRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a88bf718dd135777f5512d59c29b04fc1">   38</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service.html">IVteService</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a88bf718dd135777f5512d59c29b04fc1">_vteService</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">   43</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html">IVtePortValidationService</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9231e11df8c08c0d446e345e112eed0e">   48</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository.html">IPhoneNumberRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9231e11df8c08c0d446e345e112eed0e">_phoneNumberRepository</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">   53</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html">IVteRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">   58</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html">IDomainService</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">_domainService</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#aebacaee77c55a2f6809ec133759dc15f">   63</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service.html">IMelodyService</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#aebacaee77c55a2f6809ec133759dc15f">_melodyService</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a66481be818b79473875c368840dd86ed">   68</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service.html">IUserGroupService</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a66481be818b79473875c368840dd86ed">_userGroupService</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">   73</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html">IMelodyRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">   78</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html">IAllowSubnetRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">   83</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html">IForwardingRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">   88</a></span>&#160;        <span class="keyword">private</span> <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository_1_1_i_base_repository.html">IBaseRepository</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a82f5551150476d59871eb5c99eb11dfc">   93</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">const</span> <span class="keywordtype">string</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a82f5551150476d59871eb5c99eb11dfc">ALLOWED_SUBNET_LIST_CODE_ALL</a> = <span class="stringliteral">&quot;all&quot;</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">        #endregion</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">        #region Constructor</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a108a7e85e899707c8c037756f0f8eeea">  114</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a108a7e85e899707c8c037756f0f8eeea">VtePortService</a>(</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html">IVtePortRepository</a> vtePortRepository,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service.html">IVteService</a> vteService,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service.html">IMelodyService</a> melodyService,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html">IVtePortValidationService</a> vtePortValidationService,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository.html">IPhoneNumberRepository</a> phoneNumberRepository,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html">IVteRepository</a> vteRepository,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html">IDomainService</a> domainService,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service.html">IUserGroupService</a> userGroupService,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html">IMelodyRepository</a> melodyRepository,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html">IAllowSubnetRepository</a> allowSubnetRepository,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html">IForwardingRepository</a> forwardingRepository,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository_1_1_i_base_repository.html">IBaseRepository</a> baseRepository</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            )</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a> = vtePortRepository;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a88bf718dd135777f5512d59c29b04fc1">_vteService</a> = vteService;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#aebacaee77c55a2f6809ec133759dc15f">_melodyService</a> = melodyService;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a> = vtePortValidationService;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9231e11df8c08c0d446e345e112eed0e">_phoneNumberRepository</a> = phoneNumberRepository;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a> = vteRepository;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">_domainService</a> = domainService;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a66481be818b79473875c368840dd86ed">_userGroupService</a> = userGroupService;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a> = melodyRepository;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a> = allowSubnetRepository;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a> = forwardingRepository;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a> = baseRepository;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">        #endregion</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">        #region Async</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5305a79e0bf7064f7391266b62c2d721">  152</a></span>&#160;        <span class="keyword">public</span> async Task&lt;IEnumerable&lt;VtePort&gt;&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5305a79e0bf7064f7391266b62c2d721">GetByIdsAsync</a>(IEnumerable&lt;int&gt; userIds)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            var ports = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#abc596a35f77c6c75131375ff8247990a">GetByIdsAsync</a>(userIds)).ToList();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">if</span> (!ports.Any())</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">return</span> Enumerable.Empty&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_vte_port.html">VtePort</a>&gt;();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            var melodies = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#ae1dec0c9a6734938c7a621deb07aae2c">GetMelodiesByVteIdAsync</a>(ports.First().VteId);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9c81cb2d53407d89bd057fa6247e8684">MapHoldMelodiesToPorts</a>(ports, melodies);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">return</span> ports;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4eacb345d6a04cae1c5483449def0666">  168</a></span>&#160;        <span class="keyword">public</span> async Task&lt;IEnumerable&lt;VtePort&gt;&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4eacb345d6a04cae1c5483449def0666">GetByVteAsync</a>(<span class="keywordtype">int</span> domainId)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            var ports = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#af650f2971ec61ed3ca82043cf0579591">GetByVteAsync</a>(domainId)).ToList();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">if</span> (!ports.Any())</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">return</span> Enumerable.Empty&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_vte_port.html">VtePort</a>&gt;();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            var melodies = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#ae1dec0c9a6734938c7a621deb07aae2c">GetMelodiesByVteIdAsync</a>(ports.First().VteId);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9c81cb2d53407d89bd057fa6247e8684">MapHoldMelodiesToPorts</a>(ports, melodies);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">return</span> ports;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a80183b0136bbc07f55e9e14317dd4b96">  184</a></span>&#160;        <span class="keyword">public</span> async Task&lt;int&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a80183b0136bbc07f55e9e14317dd4b96">GetLocalNumberAsync</a>(<span class="keywordtype">int</span> domainId)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            var (from, to) = (1999, 10000);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a88bf718dd135777f5512d59c29b04fc1">_vteService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service.html#acbfc2f66bc631c3c29a28c879782e950">GetBusyLocalNumbersAsync</a>(domainId))</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                .Concat(<span class="keyword">new</span>[] { from, to })</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                .Distinct()</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                .OrderBy(x =&gt; x)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                .SkipWhile(x =&gt; x &lt;= from)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                .FirstOrDefault(x =&gt; ++from != x);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">return</span> from &lt; to</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                ? from</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                : <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_1_1_number_not_found_exception.html">NumberNotFoundException</a>();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ac5c97eb7f00f2695724c73cd543cc86a">  205</a></span>&#160;        <span class="keyword">public</span> async Task&lt;int?&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ac5c97eb7f00f2695724c73cd543cc86a">GetExternalNumberAsync</a>(<span class="keywordtype">int</span> userId) =&gt;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9231e11df8c08c0d446e345e112eed0e">_phoneNumberRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository.html#a995069ba240231308cc0ae641c2ff9f9">GetPhoneNumberByUserIdsAsync</a>(<span class="keyword">new</span>[] { userId })).Cast&lt;(<span class="keywordtype">int</span> user_id, <span class="keywordtype">int</span> phone_number)?&gt;().FirstOrDefault()?.phone_number;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a38283516afce60af6ccdf5b77c8b15e7">  213</a></span>&#160;        <span class="keyword">public</span> async Task <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a38283516afce60af6ccdf5b77c8b15e7">SetSipPasswordAsync</a>(<span class="keywordtype">int</span> vtePortId, <span class="keywordtype">string</span> password)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a1fa823a77dd2f5aa756a312a0c96244d">ValidateSetSipPasswordParamsAsync</a>(vtePortId, password);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#accce28659d761a02cec26da84ae72c99">UpdatePasswordAsync</a>(vtePortId, password);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#adfce78f9b94b9b266c833f1e843e7830">ConfigureAsync</a>(await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a2ab460f88210751e3a8941e4ec69b096">GetVteIdByVtePortIdAsync</a>(vtePortId));</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a36d536df41496cf7b23e6cc963875b39">  227</a></span>&#160;        <span class="keyword">public</span> async Task <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a36d536df41496cf7b23e6cc963875b39">SetVgwPortAsync</a>(<span class="keywordtype">int</span> vtePortId, <span class="keywordtype">int</span>? vgwPortId)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a656f7340c6bc84f63c0e51e8b9eae4ec">ValidateSetVgwPortParamsAsync</a>(vtePortId, vgwPortId);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> (vgwPortId.HasValue)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a03ffc6ffcf8dc16e34a510fe0daf2f5e">SetVgwPortAsync</a>(vtePortId, vgwPortId.Value);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a0dd20ff955e28e3572161620691ab23f">DeleteBindingByVtePortIdAsync</a>(vtePortId);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a69561521d024f015d01015b5e7338698">  242</a></span>&#160;        <span class="keyword">public</span> async Task&lt;IEnumerable&lt;AllowedSubnet&gt;&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a69561521d024f015d01015b5e7338698">GetAllowedSubnetsListAsync</a>(<span class="keywordtype">int</span> vtePortId)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            var allowedSubnetsList = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a044b5d2eb4edaef748c34d0f2a0387dd">GetAllowedSubnetsListByVtePortAsync</a>(vtePortId)).ToList();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            var subnetAny = <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4b3e2c9face660535c5737b98a250ad1">GetAllowedSubnet0</a>();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="comment">// Если в списке разрешенных подсетей содержится подсеть 0.0.0.0/0, то просто возвращаем эту подсеть, потому что</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="comment">// в таком случае клиенту разрешено подключение с любой подсети.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">if</span> (allowedSubnetsList.Any(x =&gt; x.IpAddress.Equals(subnetAny.IpAddress) &amp;&amp; x.Mask == subnetAny.Mask))</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span>[] { subnetAny };</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">return</span> allowedSubnetsList;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a6f6cda459ac0cfe4088de263834868">  262</a></span>&#160;        <span class="keyword">public</span> async Task <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a6f6cda459ac0cfe4088de263834868">SetAllowedSubnetsListAsync</a>(IEnumerable&lt;int&gt; vtePortIds, IEnumerable&lt;AllowedSubnet&gt; allowedSubnets)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            var allowedSubnetsAsList = allowedSubnets.ToList();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            var vtePortIdsAsList = vtePortIds.ToList();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (vtePortIdsAsList.IsNullOrEmpty())</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a377959efa4dd634c5d167395d3bc4808">ValidateSetAllowedSubnetsListParamsAsync</a>(vtePortIdsAsList);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            var anyIp = <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a41c5445f6a397fb211552cc12462de86">GetIp0</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            var allowedAnySubnetListId = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a34710b7a65b55d328a9c56e64142b208">GetAllowedSubnetsListIdByCodeAsync</a>(<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a82f5551150476d59871eb5c99eb11dfc">ALLOWED_SUBNET_LIST_CODE_ALL</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            var allowedSubnetsListIds = <span class="keyword">new</span> List&lt;int&gt;();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            var allowedIpsForVtePortsList = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a394023b1de957c281ba219c2572e09d1">GetByVteIdsAsync</a>(vtePortIdsAsList);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> (allowedSubnetsAsList.IsNullOrEmpty())</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="comment">// Если список разрешенных подсетей равен null или пуст, значит нужно запретить подключение из внешней сети.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a0e5625e4e51b9badc8c3a8c8445e93ab">SetAllowedSubnetsListIdToNullAsync</a>(vtePortIdsAsList);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                var subnetsListIds = allowedSubnetsAsList.Any(x =&gt; x.IpAddress.Equals(anyIp))</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    ? <span class="keyword">new</span> List&lt;int&gt; { allowedAnySubnetListId }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    : (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a6471f6b6c935850b3622b46baf68b536">CreateAllowedSubnetsListForVtePortsAsync</a>(vtePortIdsAsList)).ToList();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a7a7d5078b4b831c6e269479252c0f8dc">CreateAllowedSubnetsAsync</a>(subnetsListIds, allowedSubnetsAsList);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                allowedSubnetsListIds.AddRange(subnetsListIds.Select(x =&gt; x));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">if</span> (!allowedSubnetsListIds.IsNullOrEmpty())</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a419452571b8f8218d79a1103faf94044">UpdateAllowedSubnetsListIdForVtePortsAsync</a>(vtePortIdsAsList, allowedSubnetsListIds);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            var existedAllowedSubnetListIds = allowedIpsForVtePortsList</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                .Where(x =&gt; x.Value != allowedAnySubnetListId &amp;&amp; x.Value.HasValue)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                .Select(x =&gt; (<span class="keywordtype">int</span>)x.Value).Distinct().ToList();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (!existedAllowedSubnetListIds.IsNullOrEmpty())</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a059eca41a16b97ade70a6dd324fe5693">DeleteAllowedSubnetsAsync</a>(existedAllowedSubnetListIds);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">_allowSubnetRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#add9f56e52bb92eeccc70a64876c0bd5c">DeleteAllowedSubnetsListAsync</a>(existedAllowedSubnetListIds);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#adfce78f9b94b9b266c833f1e843e7830">ConfigureAsync</a>(await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a2ab460f88210751e3a8941e4ec69b096">GetVteIdByVtePortIdAsync</a>(vtePortIdsAsList.First()));</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a48d93b50bd86eb435fd42a7855bbc33f">  319</a></span>&#160;        <span class="keyword">public</span> async Task&lt;int&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a48d93b50bd86eb435fd42a7855bbc33f">CreateAsync</a>(<span class="keywordtype">int</span> domainId, <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html">EditableVtePortParameters</a> portParameters, <span class="keywordtype">int</span>? phoneNumberId, IEnumerable&lt;int&gt; userGroupIds)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">if</span> (portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">LocalNumber</a>.ToString().Length &lt; 4)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#a2c536bfc03222a36c023deb9dab31ff9">SetNumberingPlanChanged</a>(domainId, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">return</span> await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a64a33048f90a65bf2b480288ded970fe">SetParametersAsync</a>(domainId, <span class="keyword">null</span>, portParameters, phoneNumberId, userGroupIds);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a960c49e1f7c457c0e57cd92d4964a75e">  335</a></span>&#160;        <span class="keyword">public</span> async Task <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a960c49e1f7c457c0e57cd92d4964a75e">UpdateParametersAsync</a>(<span class="keywordtype">int</span> userId, <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html">EditableVtePortParameters</a> portParameters, <span class="keywordtype">int</span>? phoneNumberId, IEnumerable&lt;int&gt; userGroupIds) =&gt;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a64a33048f90a65bf2b480288ded970fe">SetParametersAsync</a>((<span class="keywordtype">int</span>)(await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.GetByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(<span class="keyword">new</span> { user = userId }, <span class="keyword">new</span> { domain = (int)0 }.GetType())).First().domain, userId, portParameters, phoneNumberId, userGroupIds);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a64a33048f90a65bf2b480288ded970fe">  347</a></span>&#160;        <span class="keyword">public</span> async Task&lt;int&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a64a33048f90a65bf2b480288ded970fe">SetParametersAsync</a>(<span class="keywordtype">int</span> domainId, <span class="keywordtype">int</span>? userId, <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html">EditableVtePortParameters</a> portParameters, <span class="keywordtype">int</span>? phoneNumberId, IEnumerable&lt;int&gt; userGroupIds)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keyword">using</span> (var tran = <span class="keyword">new</span> TransactionScopeReadCommittedAsync())</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#ab51dd5ae32f74ec883905adfcd3f0a82">ValidateEmail</a>(portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a802e65887fd9d58bd9a49530a91e8086">Email</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a21a4b47a86095dc00d1e008174aaa18a">ValidateMem</a>(portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a1f78ede57473388d69f024361bd78332">Mem</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#aab242e4a27626ade3521fcb15dc68c96">ValidateMobilePhone</a>(portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a98562de1619a1dd6649a0b759c0dc4e0">MobilePhone</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a32109dc78fa9a95c4ebcff7bdb16bc5d">ValidateNumberIsInRange</a>(portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">LocalNumber</a>, <span class="keyword">null</span>, 9999);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#add2ddf2edc8717f12a2d24aeff34cb5d">ValidateExistsNumberAsync</a>(portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">LocalNumber</a>, domainId, userId: userId);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#aafaa9df5aa2675ded9eb7b9cd88fb34f">ValidateIndexNumberAsync</a>(domainId, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ae1e936cd38fcf32e10a32ceaac0f0f5e">IndexNumber</a>, userId);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a8bc7fa807096061002ce94da93cc4aff">ValidateUserNameAsync</a>(domainId, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ade83571e62ab5c0ee06a6f5a365d115f">UserName</a>, userId);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                var groupIds = userGroupIds.ToList();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a1dc202bd623cfd9fae9d39c303297a2e">ValidateUserGroupIdsAsync</a>(domainId, groupIds);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">if</span> (userId == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    userId = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">_domainService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html#a31a937e3044dbac04aa7175628b8fcd7">CreateVtePortAsync</a>(domainId, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">LocalNumber</a>, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a1f78ede57473388d69f024361bd78332">Mem</a>, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ae1e936cd38fcf32e10a32ceaac0f0f5e">IndexNumber</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">_domainService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html#a4cda76950b3e7ab54e5e4b2fdbb171d3">UpdateVtePortAsync</a>(domainId, userId.Value, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">LocalNumber</a>, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a1f78ede57473388d69f024361bd78332">Mem</a>, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ade83571e62ab5c0ee06a6f5a365d115f">UserName</a>, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ae1e936cd38fcf32e10a32ceaac0f0f5e">IndexNumber</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">if</span> (phoneNumberId.HasValue)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a3f6fd762eb73b1fd2f26d9baccb12fad">ValidateDomainIdAndPhoneNumberIdAsync</a>(domainId, phoneNumberId.Value);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.UpdateByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(<span class="keyword">new</span> { user = userId },</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <span class="keyword">new</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        domain = domainId,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        abonent_name = portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ade83571e62ab5c0ee06a6f5a365d115f">UserName</a>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        email = portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a802e65887fd9d58bd9a49530a91e8086">Email</a>,</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        mobile_phone = portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a98562de1619a1dd6649a0b759c0dc4e0">MobilePhone</a>,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        enable_record = portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a01b0be402f93d11212d5991e0e10e0a1">RecordIsEnabled</a>,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        call_hold_melody_is_enabled = portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a626aa141a29ef30153cb4df3e6008da4">CallHoldMelodyIsEnabled</a></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                    });</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">_domainService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html#a180d213ef01e90e4780934f600100d09">SetGatewayAsync</a>(domainId, userId.Value, portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">LocalNumber</a>, phoneNumberId);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a66481be818b79473875c368840dd86ed">_userGroupService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service.html#ae8be68c585bb61d1775d6dfec2bb576a">SetUserGroupsAsync</a>(domainId, userId.Value, groupIds);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5bd450f4bb72da8069c2c9c3da579fb7">SetAsHoldMelodyAsync</a>(portParameters.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a6d1a883f68c2168454acad92d55db99f">CallHoldMelodyId</a>, userId.Value);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                tran.Complete();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#adfce78f9b94b9b266c833f1e843e7830">ConfigureAsync</a>(domainId);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">return</span> userId.Value;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5bd450f4bb72da8069c2c9c3da579fb7">  399</a></span>&#160;        <span class="keyword">public</span> async Task <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5bd450f4bb72da8069c2c9c3da579fb7">SetAsHoldMelodyAsync</a>(<span class="keywordtype">int</span> melodyId, <span class="keywordtype">int</span> portId)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            var vteId = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">_vtePortRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a2ab460f88210751e3a8941e4ec69b096">GetVteIdByVtePortIdAsync</a>(portId);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            var callHoldMelodyIsEnabled = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9444db6e3587a0c46eae25b7d6fcf359">CheckForHoldMelodyIsEnabled</a>(vteId, portId);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            var vteMelodies = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#ae1dec0c9a6734938c7a621deb07aae2c">GetMelodiesByVteIdAsync</a>(vteId);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            var newCallHoldMelodyMelodyInVte = callHoldMelodyIsEnabled ?</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                vteMelodies.Single(x =&gt; x.Id == melodyId)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                : vteMelodies.Single(x =&gt;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    x.PortId == <span class="keyword">null</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    &amp;&amp; x.RtuName == <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html">MelodyService</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html#a23335d1a519b826e828d50f4846d2934">MUSIC_ON_HOLD</a></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    &amp;&amp; x.IsDefault);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            var currentCallHoldMelodyInPort = vteMelodies.FirstOrDefault(x =&gt;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    x.PortId == portId</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    &amp;&amp; x.RtuName == <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html">MelodyService</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html#a23335d1a519b826e828d50f4846d2934">MUSIC_ON_HOLD</a></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    &amp;&amp; !x.IsDefault)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                ?? vteMelodies.Single(x =&gt;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    x.PortId == portId</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    &amp;&amp; x.RtuName == <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html">MelodyService</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html#a23335d1a519b826e828d50f4846d2934">MUSIC_ON_HOLD</a></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    &amp;&amp; x.IsDefault);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="comment">//если новая мелодия идентична текущей, делать ничего не нужно</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">if</span> (newCallHoldMelodyMelodyInVte.Name == currentCallHoldMelodyInPort.Name</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                &amp;&amp; newCallHoldMelodyMelodyInVte.Duration == currentCallHoldMelodyInPort.Duration)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">if</span> (!currentCallHoldMelodyInPort.IsDefault)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a1df9e8cc195c51f551a28294a37388d1">DeleteMelodiesAsync</a>(<span class="keyword">new</span> <span class="keywordtype">int</span>[] { currentCallHoldMelodyInPort.Id });</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="comment">//далее мелодия всегда устанавливается в пользовательской категории</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">//Вместо удаления мелодии устанавливается стандартная но как загруженная пользователем. </span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="comment">//Этопозволяет обойти баг РТУ с невозможностью редактирования существующей мелодии</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            var melodyCategoryId = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a679c9b16650648c5a5432aeaee9d11c4">GetMelodyCategoryIdByVtePortIdAsync</a>(portId)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                ?? await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a7616a9b96785b9ef9036ac1776cba965">AddMelodyCategoryAsync</a>(vteId, portId);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            var bytes = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#aebacaee77c55a2f6809ec133759dc15f">_melodyService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service.html#a93252a098657c3b1fbb59d9f6430554c">DownloadAsync</a>(newCallHoldMelodyMelodyInVte.Id);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            var durationAsTimespan = <span class="keyword">new</span> System.TimeSpan(0, 0, newCallHoldMelodyMelodyInVte.Duration);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">_melodyRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a79a38a4f99be154a487a28fabb5c25e8">AddHoldMelodyAsync</a>(newCallHoldMelodyMelodyInVte.Id, melodyCategoryId, bytes, durationAsTimespan, vteId, portId);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a60f141dc7f04e05c42d526ae1e4859dc">  445</a></span>&#160;        <span class="keyword">public</span> async Task <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a60f141dc7f04e05c42d526ae1e4859dc">DeleteAsync</a>(<span class="keywordtype">int</span> userId, <span class="keywordtype">bool</span> isCustomerAction)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">_vtePortValidationService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#ae3382aa513758899eb19c9d30a3e3ed9">ValidateUserOnDeleteAsync</a>(userId, isCustomerAction);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            var domainId = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.GetByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(<span class="keyword">new</span> { user = userId }, <span class="keyword">new</span> { domain = (int)0 }.GetType())).First().domain;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            var userTerminalIds = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.GetByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal.html">user_terminal</a>&gt;(<span class="keyword">new</span> { user = userId }, <span class="keyword">new</span> { user_terminal = (int)0 }.GetType());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            var forwardingSettings = await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a9db7b0bb0eb28fadb40425cbc6789ee7">GetByUserIdAsync</a>(userId);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            var oldGatewayTranslation = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.GetByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(<span class="keyword">new</span> { user = userId }, <span class="keyword">new</span> { gateway__translation = (<span class="keywordtype">int</span>?)0 }.GetType())).ToList();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keyword">using</span> (var tran = <span class="keyword">new</span> TransactionScopeReadCommittedAsync())</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="comment">// Сохраним имя абонента и номер порта в rtu.numbers_history перед удалением.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.CreateAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1numbers__history.html">numbers_history</a>&gt;(<span class="keyword">new</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    number = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.GetByAsync&lt;DataModel.Voice.vte_port&gt;(<span class="keyword">new</span> { rtu_user = userId }, <span class="keyword">new</span> { local_number = (string)<span class="keyword">null</span> }.GetType())).First().local_number,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    name = (await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.GetByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(<span class="keyword">new</span> { user = userId }, <span class="keyword">new</span> { abonent_name = (string)<span class="keyword">null</span> }.GetType())).First().abonent_name,</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    last_date = DateTime.Now,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    domain = domainId</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                });</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">foreach</span> (var <span class="keywordtype">id</span> <span class="keywordflow">in</span> userTerminalIds)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal2device__port__phone.html">user_terminal2device_port_phone</a>&gt;(<span class="keyword">new</span> { user_terminal = (int)<span class="keywordtype">id</span>.user_terminal });</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">foreach</span> (var forwardingSetting <span class="keywordflow">in</span> forwardingSettings)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    var timeTableId = <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a47a4e2b42c083c3a56c2f3e9d4e9872f">GetTimetableIdsByAdditionalForwardingIds</a>(<span class="keyword">new</span>[] { forwardingSetting.Id.Value })</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        .FirstOrDefault();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a3a6a7fbb4e623a267d4bf538ae313878">DeleteForwardingStatus</a>(forwardingSetting.Id.Value);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    <span class="keywordflow">if</span> (timeTableId != <span class="keywordflow">default</span>)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a2f2f5ee30a5c2cba5db0353a0129e1c5">DeleteTimeTableWeekDay</a>(timeTableId);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#ab83024662d1ba3cdb4cdbd659f91e322">DeleteAllAdditionalForwardingsByTimeTableId</a>(timeTableId);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a4b2d06c5b6d2054881d79db3b8ce045a">DeleteTimeTableById</a>(timeTableId);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                    {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                        <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">_forwardingRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a55951a351a9590a785af81d0696ba745">DeleteAdditionalForwardingById</a>(forwardingSetting.Id.Value);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal.html">user_terminal</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a66481be818b79473875c368840dd86ed">_userGroupService</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service.html#ae8be68c585bb61d1775d6dfec2bb576a">SetUserGroupsAsync</a>(domainId, userId, <span class="keyword">new</span> <span class="keywordtype">int</span>[0]);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user2user__group.html">user2user_group</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;DataModel.Voice.vte_port&gt;(<span class="keyword">new</span> { rtu_user = userId });</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1prompt.html">prompt</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1prompt__category.html">prompt_category</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1follow__me__step.html">follow_me_step</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                <span class="comment">// Выше удаляются только пользовательские правила переадресаций с service = Forward и настроеным timetable. </span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="comment">// Тут удалим пришедшие из РТУ (например DoNotDisturb).</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1additional__forwarding.html">additional_forwarding</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="comment">// Непосредственное удаление rtu.user</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(<span class="keyword">new</span> { user = userId });</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="comment">// Удаление gateway_translation (по аналогии с реализацией в методе SetGatewayAsync).</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="comment">// Выполняется только после удаления rtu.user иначе будет ошибка FK constraint.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="keywordflow">if</span> (oldGatewayTranslation.Any() &amp;&amp; oldGatewayTranslation.First().gateway__translation != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                    await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">_baseRepository</a>.DeleteByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1gateway____translation.html">gateway__translation</a>&gt;(<span class="keyword">new</span> { gateway__translation = oldGatewayTranslation.First().gateway__translation });</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                tran.Complete();</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            await <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">_vteRepository</a>.<a class="code" href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#adfce78f9b94b9b266c833f1e843e7830">ConfigureAsync</a>(domainId);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">        #endregion</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">        #region Private</span></div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9444db6e3587a0c46eae25b7d6fcf359">  521</a></span>&#160;        <span class="keyword">private</span> async Task&lt;bool&gt; <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9444db6e3587a0c46eae25b7d6fcf359">CheckForHoldMelodyIsEnabled</a>(<span class="keywordtype">int</span> vteId, <span class="keywordtype">int</span> portId)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            var baseRepositoryResult = await _baseRepository.GetByAsync&lt;<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">rtu</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">user</a>&gt;(</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="keyword">new</span> { user = portId, domain = vteId }, </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                <span class="keyword">new</span> { call_hold_melody_is_enabled = (<span class="keywordtype">bool</span>?)<span class="keyword">false</span> }.GetType());</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">bool</span>)(baseRepositoryResult.FirstOrDefault()?.call_hold_melody_is_enabled</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;               ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_1_1_melody_not_allowed_exception.html">MelodyNotAllowedException</a>());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4b3e2c9face660535c5737b98a250ad1">  534</a></span>&#160;        <span class="keyword">private</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_allowed_subnet.html">AllowedSubnet</a> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4b3e2c9face660535c5737b98a250ad1">GetAllowedSubnet0</a>() =&gt; <span class="keyword">new</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_allowed_subnet.html">AllowedSubnet</a> { IpAddress = GetIp0(), Mask = 0 };</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a41c5445f6a397fb211552cc12462de86">  540</a></span>&#160;        <span class="keyword">private</span> IPAddress <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a41c5445f6a397fb211552cc12462de86">GetIp0</a>() =&gt; <span class="keyword">new</span> IPAddress(0);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9c81cb2d53407d89bd057fa6247e8684">  547</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9c81cb2d53407d89bd057fa6247e8684">MapHoldMelodiesToPorts</a>(IEnumerable&lt;VtePort&gt; ports, IEnumerable&lt;MelodyInfoWithRtuName&gt; vteMelodies)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            var vteMelodiesList = vteMelodies.ToList();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="comment">// Системная мелодия удержания для порта появляется после синхронизации с РТУ.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="comment">// До момента синхронизации, запишем 0. Если это решение приведет к проблемам, будем искать другое решение.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">foreach</span> (var p <span class="keywordflow">in</span> ports)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="comment">// Стандартная мелодия удержания с ВАТСА.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                var defaultPortHoldMelody = vteMelodiesList.FirstOrDefault(m =&gt; m.PortId == <span class="keyword">null</span> &amp;&amp; m.RtuName == <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html">MelodyService</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html#a23335d1a519b826e828d50f4846d2934">MUSIC_ON_HOLD</a> &amp;&amp; m.IsDefault);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="comment">// Загруженная в порт пользовательская мелодия удержания.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                var userPortHoldMelody = vteMelodiesList.FirstOrDefault(m =&gt; m.PortId == p.Id &amp;&amp; m.RtuName == <a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html">MelodyService</a>.<a class="code" href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html#a23335d1a519b826e828d50f4846d2934">MUSIC_ON_HOLD</a> &amp;&amp; !m.IsDefault);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="comment">// Загруженная в ВАТС пользовательская мелодия удержания, соотвествующая загруженной в порт.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                var userPortHoldMelodyOrigin = vteMelodiesList.FirstOrDefault(m =&gt; m.PortId == <span class="keyword">null</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    &amp;&amp; userPortHoldMelody != <span class="keyword">null</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    &amp;&amp; m.Name == userPortHoldMelody.Name</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    &amp;&amp; m.Id != userPortHoldMelody.Id);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="comment">// Всегда выводим мелодию с ВАТСа, так как модули ничего не знают о мелодяих портов.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                p.Parameters.CallHoldMelodyId = userPortHoldMelodyOrigin?.Id </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    ?? defaultPortHoldMelody?.Id </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    ?? 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">        #endregion Private</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_allowed_subnet_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_allowed_subnet.html">Cordis.Core.Sip.Class5.Settings.DataModel.AllowedSubnet</a></div><div class="ttdoc">Модель данных подсети для формирования списка доступных подсетей подключения голосового шлюза.</div><div class="ttdef"><b>Definition:</b> <a href="_allowed_subnet_8cs_source.html#l00008">AllowedSubnet.cs:9</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters</a></div><div class="ttdoc">Редактируемые параметры порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00006">EditableVtePortParameters.cs:7</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_a01b0be402f93d11212d5991e0e10e0a1"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a01b0be402f93d11212d5991e0e10e0a1">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.RecordIsEnabled</a></div><div class="ttdeci">bool RecordIsEnabled</div><div class="ttdoc">Разрешена ли запись разговоров.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00041">EditableVtePortParameters.cs:41</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_a1f78ede57473388d69f024361bd78332"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a1f78ede57473388d69f024361bd78332">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.Mem</a></div><div class="ttdeci">string Mem</div><div class="ttdoc">Описание порта.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00016">EditableVtePortParameters.cs:16</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_a626aa141a29ef30153cb4df3e6008da4"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a626aa141a29ef30153cb4df3e6008da4">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.CallHoldMelodyIsEnabled</a></div><div class="ttdeci">bool CallHoldMelodyIsEnabled</div><div class="ttdoc">Включена ли мелодия удержания.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00046">EditableVtePortParameters.cs:46</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_a6d1a883f68c2168454acad92d55db99f"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a6d1a883f68c2168454acad92d55db99f">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.CallHoldMelodyId</a></div><div class="ttdeci">int CallHoldMelodyId</div><div class="ttdoc">Идентификатор мелодии удержания.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00051">EditableVtePortParameters.cs:51</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_a802e65887fd9d58bd9a49530a91e8086"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a802e65887fd9d58bd9a49530a91e8086">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.Email</a></div><div class="ttdeci">string Email</div><div class="ttdoc">Электронный адрес сотрудника, ассоциируемого с текущим портом.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00031">EditableVtePortParameters.cs:31</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_a98562de1619a1dd6649a0b759c0dc4e0"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#a98562de1619a1dd6649a0b759c0dc4e0">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.MobilePhone</a></div><div class="ttdeci">string MobilePhone</div><div class="ttdoc">Номер мобильного телефона сотрудника, ассоциируемого с текущим портом.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00036">EditableVtePortParameters.cs:36</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_ab18350b0b4ab2407c591db26eeb13717"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ab18350b0b4ab2407c591db26eeb13717">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.LocalNumber</a></div><div class="ttdeci">int LocalNumber</div><div class="ttdoc">Номер порта.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00011">EditableVtePortParameters.cs:11</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_ade83571e62ab5c0ee06a6f5a365d115f"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ade83571e62ab5c0ee06a6f5a365d115f">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.UserName</a></div><div class="ttdeci">string UserName</div><div class="ttdoc">Имя Сотрудника.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00026">EditableVtePortParameters.cs:26</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters_html_ae1e936cd38fcf32e10a32ceaac0f0f5e"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_editable_vte_port_parameters.html#ae1e936cd38fcf32e10a32ceaac0f0f5e">Cordis.Core.Sip.Class5.Settings.DataModel.EditableVtePortParameters.IndexNumber</a></div><div class="ttdeci">int? IndexNumber</div><div class="ttdoc">Порядковый номер порта.</div><div class="ttdef"><b>Definition:</b> <a href="_editable_vte_port_parameters_8cs_source.html#l00021">EditableVtePortParameters.cs:21</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_vte_port_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1_vte_port.html">Cordis.Core.Sip.Class5.Settings.DataModel.VtePort</a></div><div class="ttdoc">Порт ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_8cs_source.html#l00006">VtePort.cs:7</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1additional__forwarding_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1additional__forwarding.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.additional_forwarding</a></div><div class="ttdoc">Дополнительные настройки переадресации.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00011">rtu.cs:11</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1follow__me__step_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1follow__me__step.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.follow_me_step</a></div><div class="ttdoc">Шаги сценария &quot;Следуй за мной&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00041">rtu.cs:41</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1gateway____translation_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1gateway____translation.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.gateway__translation</a></div><div class="ttdoc">Правила преобразования номеров на шлюзе.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00051">rtu.cs:51</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1numbers__history_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1numbers__history.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.numbers_history</a></div><div class="ttdoc">История операций добавления/удаления номеров для ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00086">rtu.cs:86</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1prompt__category_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1prompt__category.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.prompt_category</a></div><div class="ttdoc">Категории аудио-файлов.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00096">rtu.cs:96</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1prompt_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1prompt.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.prompt</a></div><div class="ttdoc">Аудио-файлы.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00091">rtu.cs:91</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user2user__group_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user2user__group.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.user2user_group</a></div><div class="ttdoc">Настройки для групп абонентов (последовательный обзвон).</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00171">rtu.cs:171</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal2device__port__phone_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal2device__port__phone.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.user_terminal2device_port_phone</a></div><div class="ttdoc">Соответствие телефонных портов абонентским терминалам.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00166">rtu.cs:166</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user__terminal.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.user_terminal</a></div><div class="ttdoc">Настройки терминала абонента.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00161">rtu.cs:161</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_1_1user.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu.user</a></div><div class="ttdoc">Учетные записи абонентов.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00151">rtu.cs:151</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_1_1rtu.html">Cordis.Core.Sip.Class5.Settings.DataModel.rtu</a></div><div class="ttdoc">Объекты РТУ МОА.</div><div class="ttdef"><b>Definition:</b> <a href="rtu_8cs_source.html#l00006">rtu.cs:7</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_1_1_melody_not_allowed_exception_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_1_1_melody_not_allowed_exception.html">Cordis.Core.Sip.Class5.Settings.Exceptions.MelodyNotAllowedException</a></div><div class="ttdoc">Исключение &quot;Мелодия и порт принадлежат разным ВАТС&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="_melody_not_allowed_exception_8cs_source.html#l00006">MelodyNotAllowedException.cs:7</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_1_1_number_not_found_exception_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_1_1_number_not_found_exception.html">Cordis.Core.Sip.Class5.Settings.Exceptions.NumberNotFoundException</a></div><div class="ttdoc">Исключение &quot;Отсутствуют свободные номера&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="_number_not_found_exception_8cs_source.html#l00006">NumberNotFoundException.cs:7</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html">Cordis.Core.Sip.Class5.Settings.Melodies.Service.MelodyService</a></div><div class="ttdoc">Сервис управления телефонными мелодиями.</div><div class="ttdef"><b>Definition:</b> <a href="_melody_service_8cs_source.html#l00022">MelodyService.cs:23</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service_html_a23335d1a519b826e828d50f4846d2934"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_1_1_melody_service.html#a23335d1a519b826e828d50f4846d2934">Cordis.Core.Sip.Class5.Settings.Melodies.Service.MelodyService.MUSIC_ON_HOLD</a></div><div class="ttdeci">const string MUSIC_ON_HOLD</div><div class="ttdoc">Название мелодии, стоящей на удержании.</div><div class="ttdef"><b>Definition:</b> <a href="_melody_service_8cs_source.html#l00029">MelodyService.cs:29</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService</a></div><div class="ttdoc">Сервис доступа к параметрам порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00026">VtePortService.cs:27</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a0a69171ce510d89e847edf72508c1131"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a69171ce510d89e847edf72508c1131">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._vteRepository</a></div><div class="ttdeci">readonly IVteRepository _vteRepository</div><div class="ttdoc">Репозиторий методов управления параметрами ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00053">VtePortService.cs:53</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a0a6f6cda459ac0cfe4088de263834868"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a0a6f6cda459ac0cfe4088de263834868">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.SetAllowedSubnetsListAsync</a></div><div class="ttdeci">async Task SetAllowedSubnetsListAsync(IEnumerable&lt; int &gt; vtePortIds, IEnumerable&lt; AllowedSubnet &gt; allowedSubnets)</div><div class="ttdoc">Создает список подсетей и устанавливает его для всех идентификаторов портов ВАТС из входного списка.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00262">VtePortService.cs:262</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a108a7e85e899707c8c037756f0f8eeea"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a108a7e85e899707c8c037756f0f8eeea">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.VtePortService</a></div><div class="ttdeci">VtePortService(IVtePortRepository vtePortRepository, IVteService vteService, IMelodyService melodyService, IVtePortValidationService vtePortValidationService, IPhoneNumberRepository phoneNumberRepository, IVteRepository vteRepository, IDomainService domainService, IUserGroupService userGroupService, IMelodyRepository melodyRepository, IAllowSubnetRepository allowSubnetRepository, IForwardingRepository forwardingRepository, IBaseRepository baseRepository)</div><div class="ttdoc">Конструктор.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00114">VtePortService.cs:114</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a142cbdb0ae1057f1d4e03a19cced210f"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a142cbdb0ae1057f1d4e03a19cced210f">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._melodyRepository</a></div><div class="ttdeci">readonly IMelodyRepository _melodyRepository</div><div class="ttdoc">Репозиторий для управления телефонными мелодиями.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00073">VtePortService.cs:73</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a19058a5079f3fe42e687020d85b17add"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a19058a5079f3fe42e687020d85b17add">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._vtePortValidationService</a></div><div class="ttdeci">readonly IVtePortValidationService _vtePortValidationService</div><div class="ttdoc">Сервис валидации доступа к параметрам порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00043">VtePortService.cs:43</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a36d536df41496cf7b23e6cc963875b39"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a36d536df41496cf7b23e6cc963875b39">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.SetVgwPortAsync</a></div><div class="ttdeci">async Task SetVgwPortAsync(int vtePortId, int? vgwPortId)</div><div class="ttdoc">Устанавливает связь между терминалом порта ВАТС и голосовомым портом оборудования в таблице RTU....</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00227">VtePortService.cs:227</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a38283516afce60af6ccdf5b77c8b15e7"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a38283516afce60af6ccdf5b77c8b15e7">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.SetSipPasswordAsync</a></div><div class="ttdeci">async Task SetSipPasswordAsync(int vtePortId, string password)</div><div class="ttdoc">Устанавливает пароль подключения голосового шлюза порта.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00213">VtePortService.cs:213</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a41c5445f6a397fb211552cc12462de86"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a41c5445f6a397fb211552cc12462de86">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetIp0</a></div><div class="ttdeci">IPAddress GetIp0()</div><div class="ttdoc">Получает IP адрес 0.0.0.0.</div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a48d93b50bd86eb435fd42a7855bbc33f"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a48d93b50bd86eb435fd42a7855bbc33f">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.CreateAsync</a></div><div class="ttdeci">async Task&lt; int &gt; CreateAsync(int domainId, EditableVtePortParameters portParameters, int? phoneNumberId, IEnumerable&lt; int &gt; userGroupIds)</div><div class="ttdoc">Создает внутренний порт ВАТС в указанной ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00319">VtePortService.cs:319</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a4b3e2c9face660535c5737b98a250ad1"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4b3e2c9face660535c5737b98a250ad1">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetAllowedSubnet0</a></div><div class="ttdeci">AllowedSubnet GetAllowedSubnet0()</div><div class="ttdoc">Получает подсеть 0.0.0.0/0.</div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a4eacb345d6a04cae1c5483449def0666"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a4eacb345d6a04cae1c5483449def0666">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetByVteAsync</a></div><div class="ttdeci">async Task&lt; IEnumerable&lt; VtePort &gt; &gt; GetByVteAsync(int domainId)</div><div class="ttdoc">Возвращает перечисление всех портов указанной ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00168">VtePortService.cs:168</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a5305a79e0bf7064f7391266b62c2d721"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5305a79e0bf7064f7391266b62c2d721">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetByIdsAsync</a></div><div class="ttdeci">async Task&lt; IEnumerable&lt; VtePort &gt; &gt; GetByIdsAsync(IEnumerable&lt; int &gt; userIds)</div><div class="ttdoc">Возвращает перечисление портов с идентификаторами из указанного перечисления.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00152">VtePortService.cs:152</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a5bd450f4bb72da8069c2c9c3da579fb7"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a5bd450f4bb72da8069c2c9c3da579fb7">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.SetAsHoldMelodyAsync</a></div><div class="ttdeci">async Task SetAsHoldMelodyAsync(int melodyId, int portId)</div><div class="ttdoc">Устанавливает мелодию как мелодию для удержания. В рамках расширенных ВАТС вероятно потребуется вынес...</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00399">VtePortService.cs:399</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a60f141dc7f04e05c42d526ae1e4859dc"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a60f141dc7f04e05c42d526ae1e4859dc">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.DeleteAsync</a></div><div class="ttdeci">async Task DeleteAsync(int userId, bool isCustomerAction)</div><div class="ttdoc">Удаляет порт ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00445">VtePortService.cs:445</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a64a33048f90a65bf2b480288ded970fe"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a64a33048f90a65bf2b480288ded970fe">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.SetParametersAsync</a></div><div class="ttdeci">async Task&lt; int &gt; SetParametersAsync(int domainId, int? userId, EditableVtePortParameters portParameters, int? phoneNumberId, IEnumerable&lt; int &gt; userGroupIds)</div><div class="ttdoc">Устанавливает параметры порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00347">VtePortService.cs:347</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a66481be818b79473875c368840dd86ed"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a66481be818b79473875c368840dd86ed">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._userGroupService</a></div><div class="ttdeci">readonly IUserGroupService _userGroupService</div><div class="ttdoc">Сервис для работы с группами пользователей.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00068">VtePortService.cs:68</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a69561521d024f015d01015b5e7338698"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a69561521d024f015d01015b5e7338698">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetAllowedSubnetsListAsync</a></div><div class="ttdeci">async Task&lt; IEnumerable&lt; AllowedSubnet &gt; &gt; GetAllowedSubnetsListAsync(int vtePortId)</div><div class="ttdoc">Получает информацию о возможности подключения терминалов из публичного интернет.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00242">VtePortService.cs:242</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a7ff201a8f0290051d49398bf6e529d39"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a7ff201a8f0290051d49398bf6e529d39">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._allowSubnetRepository</a></div><div class="ttdeci">readonly IAllowSubnetRepository _allowSubnetRepository</div><div class="ttdoc">Репозиторий списка доступных подсетей подключения голосового шлюза.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00078">VtePortService.cs:78</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a80183b0136bbc07f55e9e14317dd4b96"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a80183b0136bbc07f55e9e14317dd4b96">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetLocalNumberAsync</a></div><div class="ttdeci">async Task&lt; int &gt; GetLocalNumberAsync(int domainId)</div><div class="ttdoc">Находит минимальный номер внутреннего порта из диапазона 2000-9999, не занятый группой или другим пор...</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00184">VtePortService.cs:184</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a82f5551150476d59871eb5c99eb11dfc"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a82f5551150476d59871eb5c99eb11dfc">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.ALLOWED_SUBNET_LIST_CODE_ALL</a></div><div class="ttdeci">const string ALLOWED_SUBNET_LIST_CODE_ALL</div><div class="ttdoc">Код списка разрешенных подсетей - &quot;Любая&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00093">VtePortService.cs:93</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a88bf718dd135777f5512d59c29b04fc1"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a88bf718dd135777f5512d59c29b04fc1">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._vteService</a></div><div class="ttdeci">readonly IVteService _vteService</div><div class="ttdoc">Сервис методов управления параметрами ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00038">VtePortService.cs:38</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a8e5080a2c0e95692f4d1c95c703e8e9b"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a8e5080a2c0e95692f4d1c95c703e8e9b">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._vtePortRepository</a></div><div class="ttdeci">readonly IVtePortRepository _vtePortRepository</div><div class="ttdoc">Репозиторий доступа к параметрам порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00033">VtePortService.cs:33</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a9231e11df8c08c0d446e345e112eed0e"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9231e11df8c08c0d446e345e112eed0e">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._phoneNumberRepository</a></div><div class="ttdeci">readonly IPhoneNumberRepository _phoneNumberRepository</div><div class="ttdoc">Репозиторий методов управления параметрами телефонного номера.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00048">VtePortService.cs:48</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a9444db6e3587a0c46eae25b7d6fcf359"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9444db6e3587a0c46eae25b7d6fcf359">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.CheckForHoldMelodyIsEnabled</a></div><div class="ttdeci">async Task&lt; bool &gt; CheckForHoldMelodyIsEnabled(int vteId, int portId)</div><div class="ttdoc">метод загружает из бд информацию о доступности на указанном порте мелодии удержания....</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00521">VtePortService.cs:521</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a960c49e1f7c457c0e57cd92d4964a75e"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a960c49e1f7c457c0e57cd92d4964a75e">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.UpdateParametersAsync</a></div><div class="ttdeci">async Task UpdateParametersAsync(int userId, EditableVtePortParameters portParameters, int? phoneNumberId, IEnumerable&lt; int &gt; userGroupIds)</div><div class="ttdoc">Обновляет параметры порта ВАТС.</div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_a9c81cb2d53407d89bd057fa6247e8684"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#a9c81cb2d53407d89bd057fa6247e8684">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.MapHoldMelodiesToPorts</a></div><div class="ttdeci">void MapHoldMelodiesToPorts(IEnumerable&lt; VtePort &gt; ports, IEnumerable&lt; MelodyInfoWithRtuName &gt; vteMelodies)</div><div class="ttdoc">Выполняет заполнениe идентификатора мелодии удержания для портов.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00547">VtePortService.cs:547</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_ab08ff3cf53569cf6b3c081841c141549"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ab08ff3cf53569cf6b3c081841c141549">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._forwardingRepository</a></div><div class="ttdeci">readonly IForwardingRepository _forwardingRepository</div><div class="ttdoc">Репозиторий для работы с переадресацией.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00083">VtePortService.cs:83</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_ac5c97eb7f00f2695724c73cd543cc86a"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#ac5c97eb7f00f2695724c73cd543cc86a">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService.GetExternalNumberAsync</a></div><div class="ttdeci">async Task&lt; int?&gt; GetExternalNumberAsync(int userId)</div><div class="ttdoc">Возвращает идентификатор внешнего телефонного номера в таблице Voice.phone_number привязанного к порт...</div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_acdfd81f78729ea059186347c004503d5"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#acdfd81f78729ea059186347c004503d5">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._domainService</a></div><div class="ttdeci">readonly IDomainService _domainService</div><div class="ttdoc">Сервис для работы с ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00058">VtePortService.cs:58</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_aebacaee77c55a2f6809ec133759dc15f"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#aebacaee77c55a2f6809ec133759dc15f">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._melodyService</a></div><div class="ttdeci">readonly IMelodyService _melodyService</div><div class="ttdoc">Сервис для телефонными мелодиями.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00063">VtePortService.cs:63</a></div></div>
<div class="ttc" id="aclass_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service_html_afff5f67c692cef62a4733ce781d29489"><div class="ttname"><a href="class_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_vte_port_service.html#afff5f67c692cef62a4733ce781d29489">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.VtePortService._baseRepository</a></div><div class="ttdeci">IBaseRepository _baseRepository</div><div class="ttdoc">Базовый репозиторий для работы с таблицей в БД.</div><div class="ttdef"><b>Definition:</b> <a href="_vte_port_service_8cs_source.html#l00088">VtePortService.cs:88</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository</a></div><div class="ttdoc">Репозиторий для работы с переадресацией.</div><div class="ttdef"><b>Definition:</b> <a href="_i_forwarding_repository_8cs_source.html#l00010">IForwardingRepository.cs:11</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_a2f2f5ee30a5c2cba5db0353a0129e1c5"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a2f2f5ee30a5c2cba5db0353a0129e1c5">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.DeleteTimeTableWeekDay</a></div><div class="ttdeci">void DeleteTimeTableWeekDay(int timeTableId)</div><div class="ttdoc">Удаляет настройки расписания для дней недели переданного расписания.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_a3a6a7fbb4e623a267d4bf538ae313878"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a3a6a7fbb4e623a267d4bf538ae313878">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.DeleteForwardingStatus</a></div><div class="ttdeci">void DeleteForwardingStatus(int additionalForwardingId)</div><div class="ttdoc">Удаляет запись из Voice.opensips_phone_forwarding_status.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_a47a4e2b42c083c3a56c2f3e9d4e9872f"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a47a4e2b42c083c3a56c2f3e9d4e9872f">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.GetTimetableIdsByAdditionalForwardingIds</a></div><div class="ttdeci">IEnumerable&lt; int &gt; GetTimetableIdsByAdditionalForwardingIds(IEnumerable&lt; int &gt; additionalForwardingIds)</div><div class="ttdoc">Получает идентификаторы расписаний по идентификаторам правил переадресации.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_a4b2d06c5b6d2054881d79db3b8ce045a"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a4b2d06c5b6d2054881d79db3b8ce045a">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.DeleteTimeTableById</a></div><div class="ttdeci">void DeleteTimeTableById(int timeTableId)</div><div class="ttdoc">Удаляет настройки расписания.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_a55951a351a9590a785af81d0696ba745"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a55951a351a9590a785af81d0696ba745">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.DeleteAdditionalForwardingById</a></div><div class="ttdeci">void DeleteAdditionalForwardingById(int additionalForwardingId)</div><div class="ttdoc">Удаляет правило переадресации по его идентификатору.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_a9db7b0bb0eb28fadb40425cbc6789ee7"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#a9db7b0bb0eb28fadb40425cbc6789ee7">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.GetByUserIdAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; ForwardingSettings &gt; &gt; GetByUserIdAsync(int userId)</div><div class="ttdoc">Возвращает настройки переадресации по идентификатору порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository_html_ab83024662d1ba3cdb4cdbd659f91e322"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_1_1_i_forwarding_repository.html#ab83024662d1ba3cdb4cdbd659f91e322">Cordis.Core.Sip.Class5.Forwarding.Repository.IForwardingRepository.DeleteAllAdditionalForwardingsByTimeTableId</a></div><div class="ttdeci">void DeleteAllAdditionalForwardingsByTimeTableId(int timeTableId)</div><div class="ttdoc">Удаляет ВСЕ правила переадресации с указанными идентификатором расписания.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service.html">Cordis.Core.Sip.Class5.Settings.Interface.IMelodyService</a></div><div class="ttdoc">Интерфейс сервиса управления телефонными мелодиями.</div><div class="ttdef"><b>Definition:</b> <a href="_i_melody_service_8cs_source.html#l00011">IMelodyService.cs:12</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service_html_a93252a098657c3b1fbb59d9f6430554c"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_melody_service.html#a93252a098657c3b1fbb59d9f6430554c">Cordis.Core.Sip.Class5.Settings.Interface.IMelodyService.DownloadAsync</a></div><div class="ttdeci">Task&lt; byte[]&gt; DownloadAsync(int fileId)</div><div class="ttdoc">Возвращает байты файла с указанным идентификатором.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_port_service_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_port_service.html">Cordis.Core.Sip.Class5.Settings.Interface.IVtePortService</a></div><div class="ttdoc">Интерфейс сервиса доступа к параметрам порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_i_vte_port_service_8cs_source.html#l00010">IVtePortService.cs:11</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service.html">Cordis.Core.Sip.Class5.Settings.Interface.IVteService</a></div><div class="ttdoc">Сервис методов управления параметрами ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_i_vte_service_8cs_source.html#l00011">IVteService.cs:12</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service_html_acbfc2f66bc631c3c29a28c879782e950"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_1_1_i_vte_service.html#acbfc2f66bc631c3c29a28c879782e950">Cordis.Core.Sip.Class5.Settings.Interface.IVteService.GetBusyLocalNumbersAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; int &gt; &gt; GetBusyLocalNumbersAsync(int vteId)</div><div class="ttdoc">Возвращает список всех внутренних номеров занятых группой или портом.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html">Cordis.Core.Sip.Class5.Settings.Melodies.Repository.IMelodyRepository</a></div><div class="ttdoc">Интерфейс репозитория для управления телефонными мелодиями.</div><div class="ttdef"><b>Definition:</b> <a href="_i_melody_repository_8cs_source.html#l00011">IMelodyRepository.cs:12</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository_html_a1df9e8cc195c51f551a28294a37388d1"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a1df9e8cc195c51f551a28294a37388d1">Cordis.Core.Sip.Class5.Settings.Melodies.Repository.IMelodyRepository.DeleteMelodiesAsync</a></div><div class="ttdeci">Task DeleteMelodiesAsync(IEnumerable&lt; int &gt; melodyIds)</div><div class="ttdoc">Удаляет записи из таблицы RTU.prompt с переданными идентификаторами.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository_html_a679c9b16650648c5a5432aeaee9d11c4"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a679c9b16650648c5a5432aeaee9d11c4">Cordis.Core.Sip.Class5.Settings.Melodies.Repository.IMelodyRepository.GetMelodyCategoryIdByVtePortIdAsync</a></div><div class="ttdeci">Task&lt; int?&gt; GetMelodyCategoryIdByVtePortIdAsync(int vtePortId)</div><div class="ttdoc">Получает идентификатор категории мелодии по идентификатору порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository_html_a7616a9b96785b9ef9036ac1776cba965"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a7616a9b96785b9ef9036ac1776cba965">Cordis.Core.Sip.Class5.Settings.Melodies.Repository.IMelodyRepository.AddMelodyCategoryAsync</a></div><div class="ttdeci">Task&lt; int &gt; AddMelodyCategoryAsync(int vteId, int? vtePortId=null)</div><div class="ttdoc">Добавляет запись в таблицу RTU.prompt_category со следующими параметрами: name = &quot;user&quot;,...</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository_html_a79a38a4f99be154a487a28fabb5c25e8"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#a79a38a4f99be154a487a28fabb5c25e8">Cordis.Core.Sip.Class5.Settings.Melodies.Repository.IMelodyRepository.AddHoldMelodyAsync</a></div><div class="ttdeci">Task&lt; int &gt; AddHoldMelodyAsync(int melodyId, int melodyCategoryId, byte[] bytes, TimeSpan duration, int vteId, int vtePortId)</div><div class="ttdoc">Добавляет мелодию для удержания.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository_html_ae1dec0c9a6734938c7a621deb07aae2c"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_1_1_i_melody_repository.html#ae1dec0c9a6734938c7a621deb07aae2c">Cordis.Core.Sip.Class5.Settings.Melodies.Repository.IMelodyRepository.GetMelodiesByVteIdAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; MelodyInfoWithRtuName &gt; &gt; GetMelodiesByVteIdAsync(int vteId)</div><div class="ttdoc">Получает мелодии по идентификатору ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository.html">Cordis.Core.Sip.Class5.Settings.PhoneNumbers.Repository.IPhoneNumberRepository</a></div><div class="ttdoc">Интерфейс репозитория методов управления параметрами телефонного номера.</div><div class="ttdef"><b>Definition:</b> <a href="_phone_numbers_2_repository_2_i_phone_number_repository_8cs_source.html#l00010">IPhoneNumberRepository.cs:11</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository_html_a995069ba240231308cc0ae641c2ff9f9"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_1_1_i_phone_number_repository.html#a995069ba240231308cc0ae641c2ff9f9">Cordis.Core.Sip.Class5.Settings.PhoneNumbers.Repository.IPhoneNumberRepository.GetPhoneNumberByUserIdsAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt;(int user_id, int phone_number)&gt; &gt; GetPhoneNumberByUserIdsAsync(IEnumerable&lt; int &gt; userIds)</div><div class="ttdoc">Возвращает перечисление (&quot;идентификатор порта ВАТС в таблице RTU.user&quot;, &quot;идентификаторы внешних телеф...</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository_1_1_i_base_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository_1_1_i_base_repository.html">Cordis.Core.Sip.Class5.Settings.Repository.IBaseRepository</a></div><div class="ttdoc">Интерфейс репозитория для работы с таблицей в БД.</div><div class="ttdef"><b>Definition:</b> <a href="_i_base_repository_8cs_source.html#l00011">IBaseRepository.cs:12</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service.html">Cordis.Core.Sip.Class5.Settings.VteGroups.Service.IUserGroupService</a></div><div class="ttdoc">Интерфейс сервиса для работы с группами пользователей.</div><div class="ttdef"><b>Definition:</b> <a href="_i_user_group_service_8cs_source.html#l00009">IUserGroupService.cs:10</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service_html_ae8be68c585bb61d1775d6dfec2bb576a"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_1_1_i_user_group_service.html#ae8be68c585bb61d1775d6dfec2bb576a">Cordis.Core.Sip.Class5.Settings.VteGroups.Service.IUserGroupService.SetUserGroupsAsync</a></div><div class="ttdeci">Task SetUserGroupsAsync(int domainId, int userId, IEnumerable&lt; int &gt; userGroupIds)</div><div class="ttdoc">Устанавливает группы пользователей для порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository</a></div><div class="ttdoc">Интерфейс репозитория списка доступных подсетей подключения голосового шлюза.</div><div class="ttdef"><b>Definition:</b> <a href="_i_allow_subnet_repository_8cs_source.html#l00010">IAllowSubnetRepository.cs:11</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a044b5d2eb4edaef748c34d0f2a0387dd"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a044b5d2eb4edaef748c34d0f2a0387dd">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.GetAllowedSubnetsListByVtePortAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; AllowedSubnet &gt; &gt; GetAllowedSubnetsListByVtePortAsync(int vtePortId)</div><div class="ttdoc">Получает список подсетей, с которых доступно подключение из internet.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a059eca41a16b97ade70a6dd324fe5693"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a059eca41a16b97ade70a6dd324fe5693">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.DeleteAllowedSubnetsAsync</a></div><div class="ttdeci">Task DeleteAllowedSubnetsAsync(IEnumerable&lt; int &gt; allowedSubnetListIds)</div><div class="ttdoc">Удаляет разрешенные подсети.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a0e5625e4e51b9badc8c3a8c8445e93ab"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a0e5625e4e51b9badc8c3a8c8445e93ab">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.SetAllowedSubnetsListIdToNullAsync</a></div><div class="ttdeci">Task SetAllowedSubnetsListIdToNullAsync(IEnumerable&lt; int &gt; vtePortIds)</div><div class="ttdoc">Обнуляет ссылки на именованные списки разрешенных подсетей.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a34710b7a65b55d328a9c56e64142b208"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a34710b7a65b55d328a9c56e64142b208">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.GetAllowedSubnetsListIdByCodeAsync</a></div><div class="ttdeci">Task&lt; int &gt; GetAllowedSubnetsListIdByCodeAsync(string code)</div><div class="ttdoc">Возвращает идентификатор именованного списка разрешенных подсетей по коду.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a419452571b8f8218d79a1103faf94044"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a419452571b8f8218d79a1103faf94044">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.UpdateAllowedSubnetsListIdForVtePortsAsync</a></div><div class="ttdeci">Task UpdateAllowedSubnetsListIdForVtePortsAsync(IEnumerable&lt; int &gt; vtePortIds, IEnumerable&lt; int &gt; allowedSubnetListIds)</div><div class="ttdoc">Обновляет ссылки на именованные списки разрешенных подсетей. При обновлении срабатывает триггер для с...</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a6471f6b6c935850b3622b46baf68b536"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a6471f6b6c935850b3622b46baf68b536">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.CreateAllowedSubnetsListForVtePortsAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; int &gt; &gt; CreateAllowedSubnetsListForVtePortsAsync(IEnumerable&lt; int &gt; vtePortIds)</div><div class="ttdoc">Создает новые записи об именованных списках разрешенных подсетей.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_a7a7d5078b4b831c6e269479252c0f8dc"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#a7a7d5078b4b831c6e269479252c0f8dc">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.CreateAllowedSubnetsAsync</a></div><div class="ttdeci">Task CreateAllowedSubnetsAsync(IEnumerable&lt; int &gt; allowedSubnetListIds, IEnumerable&lt; AllowedSubnet &gt; allowedSubnets)</div><div class="ttdoc">Создает список разрешенных подсетей.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository_html_add9f56e52bb92eeccc70a64876c0bd5c"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_allow_subnet_repository.html#add9f56e52bb92eeccc70a64876c0bd5c">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IAllowSubnetRepository.DeleteAllowedSubnetsListAsync</a></div><div class="ttdeci">Task DeleteAllowedSubnetsListAsync(IEnumerable&lt; int &gt; allowedSubnetListIds)</div><div class="ttdoc">Удаляет записи об именованных списках разрешенных подсетей.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository</a></div><div class="ttdoc">Интерфейс репозитория доступа к параметрам порта ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_i_vte_port_repository_8cs_source.html#l00011">IVtePortRepository.cs:12</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_a03ffc6ffcf8dc16e34a510fe0daf2f5e"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a03ffc6ffcf8dc16e34a510fe0daf2f5e">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.SetVgwPortAsync</a></div><div class="ttdeci">Task SetVgwPortAsync(int vtePortId, int vgwPortId)</div><div class="ttdoc">Вносит изменения о состоянии связанности порта ВАТС и голосового порта.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_a0dd20ff955e28e3572161620691ab23f"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a0dd20ff955e28e3572161620691ab23f">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.DeleteBindingByVtePortIdAsync</a></div><div class="ttdeci">Task DeleteBindingByVtePortIdAsync(int vtePortId)</div><div class="ttdoc">Удаляет запись о связанности порта ВАТС и голосового порта.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_a2ab460f88210751e3a8941e4ec69b096"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a2ab460f88210751e3a8941e4ec69b096">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.GetVteIdByVtePortIdAsync</a></div><div class="ttdeci">Task&lt; int &gt; GetVteIdByVtePortIdAsync(int vtePortId)</div><div class="ttdoc">Получает идентификатор ВАТС по идентификатору порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_a394023b1de957c281ba219c2572e09d1"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#a394023b1de957c281ba219c2572e09d1">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.GetByVteIdsAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; KeyValuePair&lt; int, int?&gt; &gt; &gt; GetByVteIdsAsync(IEnumerable&lt; int &gt; ids)</div><div class="ttdoc">Получает идентификаторы списков разрешенных IP адресов для переданных идентификаторов портов ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_abc596a35f77c6c75131375ff8247990a"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#abc596a35f77c6c75131375ff8247990a">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.GetByIdsAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; VtePort &gt; &gt; GetByIdsAsync(IEnumerable&lt; int &gt; userIds)</div><div class="ttdoc">Возвращает список портов по идентификаторам.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_accce28659d761a02cec26da84ae72c99"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#accce28659d761a02cec26da84ae72c99">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.UpdatePasswordAsync</a></div><div class="ttdeci">Task UpdatePasswordAsync(int vtePortId, string password)</div><div class="ttdoc">Устанавливает новый пароль подключения голосового шлюза.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository_html_af650f2971ec61ed3ca82043cf0579591"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_1_1_i_vte_port_repository.html#af650f2971ec61ed3ca82043cf0579591">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository.IVtePortRepository.GetByVteAsync</a></div><div class="ttdeci">Task&lt; IEnumerable&lt; VtePort &gt; &gt; GetByVteAsync(int vteId)</div><div class="ttdoc">Возвращает список всех портов указанной ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService</a></div><div class="ttdoc">Сервис проверок ВАТС порта.</div><div class="ttdef"><b>Definition:</b> <a href="_i_vte_port_validation_service_8cs_source.html#l00011">IVtePortValidationService.cs:12</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a1dc202bd623cfd9fae9d39c303297a2e"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a1dc202bd623cfd9fae9d39c303297a2e">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateUserGroupIdsAsync</a></div><div class="ttdeci">Task ValidateUserGroupIdsAsync(int domainId, IEnumerable&lt; int &gt; userGroupIds)</div><div class="ttdoc">Проверяет вхождение групп пользователей в ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a1fa823a77dd2f5aa756a312a0c96244d"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a1fa823a77dd2f5aa756a312a0c96244d">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateSetSipPasswordParamsAsync</a></div><div class="ttdeci">Task ValidateSetSipPasswordParamsAsync(int vtePortId, string password)</div><div class="ttdoc">Проверяет параметры метода установки пароля подключения голосового шлюза порта.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a21a4b47a86095dc00d1e008174aaa18a"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a21a4b47a86095dc00d1e008174aaa18a">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateMem</a></div><div class="ttdeci">void ValidateMem(string mem)</div><div class="ttdoc">Проверяет формат примечания.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a32109dc78fa9a95c4ebcff7bdb16bc5d"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a32109dc78fa9a95c4ebcff7bdb16bc5d">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateNumberIsInRange</a></div><div class="ttdeci">void ValidateNumberIsInRange(int number, int? from, int? trim)</div><div class="ttdoc">Проверяет, что номер находится в диапазоне значений (включительно).</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a377959efa4dd634c5d167395d3bc4808"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a377959efa4dd634c5d167395d3bc4808">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateSetAllowedSubnetsListParamsAsync</a></div><div class="ttdeci">Task ValidateSetAllowedSubnetsListParamsAsync(IEnumerable&lt; int &gt; vtePortIds)</div><div class="ttdoc">Проверяет параметры метода создания списка разрешенных подсетей.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a3f6fd762eb73b1fd2f26d9baccb12fad"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a3f6fd762eb73b1fd2f26d9baccb12fad">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateDomainIdAndPhoneNumberIdAsync</a></div><div class="ttdeci">Task ValidateDomainIdAndPhoneNumberIdAsync(int domainId, int phoneNumberId)</div><div class="ttdoc">Проверяет принадлежность принадлежность внешнего номера к ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a656f7340c6bc84f63c0e51e8b9eae4ec"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a656f7340c6bc84f63c0e51e8b9eae4ec">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateSetVgwPortParamsAsync</a></div><div class="ttdeci">Task ValidateSetVgwPortParamsAsync(int vtePortId, int? vgwPortId)</div><div class="ttdoc">Проверяет параметры метода привязки терминала порта ВАТС к голосовому порту оборудования.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_a8bc7fa807096061002ce94da93cc4aff"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#a8bc7fa807096061002ce94da93cc4aff">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateUserNameAsync</a></div><div class="ttdeci">Task ValidateUserNameAsync(int domainId, string userName, int? userId)</div><div class="ttdoc">Проверяет формат названия порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_aab242e4a27626ade3521fcb15dc68c96"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#aab242e4a27626ade3521fcb15dc68c96">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateMobilePhone</a></div><div class="ttdeci">void ValidateMobilePhone(string mobilePhone)</div><div class="ttdoc">Проверяет формат номера телефона.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_aafaa9df5aa2675ded9eb7b9cd88fb34f"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#aafaa9df5aa2675ded9eb7b9cd88fb34f">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateIndexNumberAsync</a></div><div class="ttdeci">Task ValidateIndexNumberAsync(int domainId, int? indexNumber, int? userId=null)</div><div class="ttdoc">Проверяет порядковый номер порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_ab51dd5ae32f74ec883905adfcd3f0a82"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#ab51dd5ae32f74ec883905adfcd3f0a82">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateEmail</a></div><div class="ttdeci">void ValidateEmail(string email)</div><div class="ttdoc">Проверяет формат почтового адреса.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_add2ddf2edc8717f12a2d24aeff34cb5d"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#add2ddf2edc8717f12a2d24aeff34cb5d">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateExistsNumberAsync</a></div><div class="ttdeci">Task ValidateExistsNumberAsync(int number, int domainId, int? userGroupId=null, int? userId=null)</div><div class="ttdoc">Проверяет, что номер ещё не занят.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service_html_ae3382aa513758899eb19c9d30a3e3ed9"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_1_1_i_vte_port_validation_service.html#ae3382aa513758899eb19c9d30a3e3ed9">Cordis.Core.Sip.Class5.Settings.VtePorts.Service.IVtePortValidationService.ValidateUserOnDeleteAsync</a></div><div class="ttdeci">Task ValidateUserOnDeleteAsync(int userId, bool isCustomerAction)</div><div class="ttdoc">Проверяет возможность удаления порта ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html">Cordis.Core.Sip.Class5.Settings.Vtes.Repository.IVteRepository</a></div><div class="ttdoc">Интерфейс репозитория методов управления параметрами ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_i_vte_repository_8cs_source.html#l00010">IVteRepository.cs:11</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository_html_a2c536bfc03222a36c023deb9dab31ff9"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#a2c536bfc03222a36c023deb9dab31ff9">Cordis.Core.Sip.Class5.Settings.Vtes.Repository.IVteRepository.SetNumberingPlanChanged</a></div><div class="ttdeci">Task SetNumberingPlanChanged(int domainId, bool isNumberingPlanChanged)</div><div class="ttdoc">Устанавливает признак изменения плана нумерации.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository_html_adfce78f9b94b9b266c833f1e843e7830"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_1_1_i_vte_repository.html#adfce78f9b94b9b266c833f1e843e7830">Cordis.Core.Sip.Class5.Settings.Vtes.Repository.IVteRepository.ConfigureAsync</a></div><div class="ttdeci">Task ConfigureAsync(int domainId)</div><div class="ttdoc">Вызывает хранимую процедуру RTU.ConfigureVte.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service_html"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html">Cordis.Core.Sip.Class5.Settings.Vtes.Service.IDomainService</a></div><div class="ttdoc">Интерфейс сервиса для работы с ВАТС.</div><div class="ttdef"><b>Definition:</b> <a href="_i_domain_service_8cs_source.html#l00008">IDomainService.cs:9</a></div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service_html_a180d213ef01e90e4780934f600100d09"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html#a180d213ef01e90e4780934f600100d09">Cordis.Core.Sip.Class5.Settings.Vtes.Service.IDomainService.SetGatewayAsync</a></div><div class="ttdeci">Task SetGatewayAsync(int domainId, int userId, int localNumber, int? phoneNumberId)</div><div class="ttdoc">Организует маршрутизацию исходящих вызовов.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service_html_a31a937e3044dbac04aa7175628b8fcd7"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html#a31a937e3044dbac04aa7175628b8fcd7">Cordis.Core.Sip.Class5.Settings.Vtes.Service.IDomainService.CreateVtePortAsync</a></div><div class="ttdeci">Task&lt; int &gt; CreateVtePortAsync(int domainId, int localNumber, string mem, int? indexNumber)</div><div class="ttdoc">Создает ВАТС порт для ВАТС.</div></div>
<div class="ttc" id="ainterface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service_html_a4cda76950b3e7ab54e5e4b2fdbb171d3"><div class="ttname"><a href="interface_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_1_1_i_domain_service.html#a4cda76950b3e7ab54e5e4b2fdbb171d3">Cordis.Core.Sip.Class5.Settings.Vtes.Service.IDomainService.UpdateVtePortAsync</a></div><div class="ttdeci">Task UpdateVtePortAsync(int domainId, int userId, int localNumber, string mem, string userName, int? indexNumber)</div><div class="ttdoc">Меняет параметры ВАТС порта ВАТС.</div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_1_1_repository.html">Cordis.Core.Sip.Class5.Forwarding.Repository</a></div><div class="ttdef"><b>Definition:</b> <a href="_call_direction_repository_8cs_source.html#l00006">CallDirectionRepository.cs:7</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_forwarding.html">Cordis.Core.Sip.Class5.Forwarding</a></div><div class="ttdef"><b>Definition:</b> <a href="_call_direction_8cs_source.html#l00001">CallDirection.cs:2</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_data_model.html">Cordis.Core.Sip.Class5.Settings.DataModel</a></div><div class="ttdef"><b>Definition:</b> <a href="_abonent_transformation_call_category_8cs_source.html#l00001">AbonentTransformationCallCategory.cs:2</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_exceptions.html">Cordis.Core.Sip.Class5.Settings.Exceptions</a></div><div class="ttdef"><b>Definition:</b> <a href="_custom_name_already_exists_exception_8cs_source.html#l00003">CustomNameAlreadyExistsException.cs:4</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_interface.html">Cordis.Core.Sip.Class5.Settings.Interface</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_call_info_service_8cs_source.html#l00006">ICallInfoService.cs:7</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_repository.html">Cordis.Core.Sip.Class5.Settings.Melodies.Repository</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_melody_repository_8cs_source.html#l00006">IMelodyRepository.cs:7</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_1_1_service.html">Cordis.Core.Sip.Class5.Settings.Melodies.Service</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_melody_validation_service_8cs_source.html#l00005">IMelodyValidationService.cs:6</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_melodies.html">Cordis.Core.Sip.Class5.Settings.Melodies</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_melody_repository_8cs_source.html#l00006">IMelodyRepository.cs:7</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_1_1_repository.html">Cordis.Core.Sip.Class5.Settings.PhoneNumbers.Repository</a></div><div class="ttdef"><b>Definition:</b> <a href="_phone_numbers_2_repository_2_i_phone_number_repository_8cs_source.html#l00005">IPhoneNumberRepository.cs:6</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_phone_numbers.html">Cordis.Core.Sip.Class5.Settings.PhoneNumbers</a></div><div class="ttdef"><b>Definition:</b> <a href="_phone_numbers_2_repository_2_i_phone_number_repository_8cs_source.html#l00005">IPhoneNumberRepository.cs:6</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_repository.html">Cordis.Core.Sip.Class5.Settings.Repository</a></div><div class="ttdef"><b>Definition:</b> <a href="_base_repository_8cs_source.html#l00011">BaseRepository.cs:12</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_1_1_service.html">Cordis.Core.Sip.Class5.Settings.VteGroups.Service</a></div><div class="ttdef"><b>Definition:</b> <a href="_group_service_8cs_source.html#l00005">GroupService.cs:6</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_groups.html">Cordis.Core.Sip.Class5.Settings.VteGroups</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_numbers_history_repository_8cs_source.html#l00003">INumbersHistoryRepository.cs:4</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_repository.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Repository</a></div><div class="ttdef"><b>Definition:</b> <a href="_allow_subnet_repository_8cs_source.html#l00011">AllowSubnetRepository.cs:12</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_1_1_service.html">Cordis.Core.Sip.Class5.Settings.VtePorts.Service</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_vte_port_validation_service_8cs_source.html#l00006">IVtePortValidationService.cs:7</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vte_ports.html">Cordis.Core.Sip.Class5.Settings.VtePorts</a></div><div class="ttdef"><b>Definition:</b> <a href="_allow_subnet_repository_8cs_source.html#l00011">AllowSubnetRepository.cs:12</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_repository.html">Cordis.Core.Sip.Class5.Settings.Vtes.Repository</a></div><div class="ttdef"><b>Definition:</b> <a href="_access_groups_reposirory_8cs_source.html#l00010">AccessGroupsReposirory.cs:11</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_1_1_service.html">Cordis.Core.Sip.Class5.Settings.Vtes.Service</a></div><div class="ttdef"><b>Definition:</b> <a href="_domain_service_8cs_source.html#l00013">DomainService.cs:14</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_1_1_vtes.html">Cordis.Core.Sip.Class5.Settings.Vtes</a></div><div class="ttdef"><b>Definition:</b> <a href="_access_groups_reposirory_8cs_source.html#l00010">AccessGroupsReposirory.cs:11</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5_1_1_settings.html">Cordis.Core.Sip.Class5.Settings</a></div><div class="ttdef"><b>Definition:</b> <a href="_settings_2_call_infos_2_extensions_2_call_info_sync_extension_8cs_source.html#l00009">CallInfoSyncExtension.cs:10</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_1_1_class5_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip_1_1_class5.html">Cordis.Core.Sip.Class5</a></div><div class="ttdef"><b>Definition:</b> <a href="_autowired_attribute_8cs_source.html#l00003">AutowiredAttribute.cs:4</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_1_1_sip_html"><div class="ttname"><a href="namespace_cordis_1_1_core_1_1_sip.html">Cordis.Core.Sip</a></div><div class="ttdef"><b>Definition:</b> <a href="_autowired_attribute_8cs_source.html#l00003">AutowiredAttribute.cs:4</a></div></div>
<div class="ttc" id="anamespace_cordis_1_1_core_html"><div class="ttname"><a href="namespace_cordis_1_1_core.html">Cordis.Core</a></div><div class="ttdef"><b>Definition:</b> <a href="_autowired_attribute_8cs_source.html#l00003">AutowiredAttribute.cs:4</a></div></div>
<div class="ttc" id="anamespace_cordis_html"><div class="ttname"><a href="namespace_cordis.html">Cordis</a></div><div class="ttdef"><b>Definition:</b> <a href="_autowired_attribute_8cs_source.html#l00003">AutowiredAttribute.cs:4</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8ae0dd75af039a94f4269584fb8eef13.html">Settings</a></li><li class="navelem"><a class="el" href="dir_6450f28158f1344bff5ef06c58116ef2.html">VtePorts</a></li><li class="navelem"><a class="el" href="dir_7d8e23d323b09f503ea3c232db937253.html">Service</a></li><li class="navelem"><a class="el" href="_vte_port_service_8cs.html">VtePortService.cs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
